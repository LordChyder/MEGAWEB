<div class="bg-gray-100 w-full min-h-screen flex flex-col">
    <div class="w-full">
          <img
            src="../../../assets/Logo_Megayuntas2.png"
              alt="MegaYuntas logo"
              class="w-40 h-auto m-4 mt-4"/>
      </div>
      <!-- HEADER: logo + título + botón | buscador -->
      <div class="flex-1 w-full p-1 md:p-2">
        <div class="max-w-6xl mx-auto">
          <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">
            Clientes
          </h1>
      
      <div class="grid grid-cols-2 gap-1 mb-6"> 
        <div class="col-start-1 pr-11 mt-[2px]">   
          <button
            (click)="abrirModalAgregar()"
            class="flex items-center space-x-2 
                      bg-teal-500 text-white
                      px-3 py-1 rounded-full
                      hover:bg-teal-600 transition"
          >
                <iconify-icon
                  icon="mdi:account-plus-outline"
                  class="text-2xl"
                ></iconify-icon>
              <span>Agregar</span>
            </button>
          </div>
        <!-- DERECHA: buscador -->
        <div class="pl-10 ml-40 col-start-2">
          <label for="buscar" class="text-sm font-medium mr-2 whitespace-nowrap">Buscar:</label>
          <input
            id="buscar"
            type="text"
            placeholder=""
            class="border border-gray-300 rounded
                   px-3 py-1 w-full max-w-xs
                   focus:outline-none focus:ring-2 focus:ring-teal-500"
          />
        </div>
        </div>
  
      <!-- TABLA -->
      <div class="overflow-x-auto bg-white shadow rounded-lg lg:w-full">
        <table class="w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-3 md:px-3 py-3 text-center text-xs font-medium text-gray-500">ID</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Empresa</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Ruc</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Telefono</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Contacto</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Grupo</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Mostrar en Web</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Status</th>
              <th class="px-3 md:px-6 py-3 text-center text-sm font-medium text-gray-500">Acciones</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr *ngFor="let Cliente of Clientes">
              <td class="px-3 md:px-3 py-4 text-center whitespace-nowrap text-sm">{{ Cliente.id }}</td>
              <td class="px-3 md:px-6 py-4 text-center text-sm whitespace-normal break-words">{{ Cliente.Empresa }}</td>
              <td class="px-3 md:px-6 py-4 text-center whitespace-nowrap text-sm">{{ Cliente.Ruc }}</td>
              <td class="px-3 md:px-6 py-4 text-center whitespace-nowrap text-sm">{{ Cliente.Telefono }}</td>
              <td class="px-3 md:px-6 py-4 text-center whitespace-nowrap text-sm">{{ Cliente.Contacto }}</td>
              <td class="px-3 md:px-6 py-4 text-center whitespace-nowrap text-sm">{{ Cliente.Grupo }}</td>
              <td class="px-3 md:px-6 py-4 text-center whitespace-nowrap text-sm">{{ Cliente.Mostrar_en_Web }}</td>
              <td class="px-3 md:px-6 py-4 text-center whitespace-nowrap text-sm">
                <span
                  [ngClass]="{
                    'text-green-600 font-semibold': Cliente.status === 'ACTIVE',
                    'text-red-600 font-semibold':   Cliente.status === 'INACTIVE'
                  }"
                >
                  {{ Cliente.status }}
                </span>
              </td>
              <td class="px-3 md:px-6 py-4 whitespace-nowrap text-right text-sm">
                                <!-- KEY -->
                <button
                  class="inline-flex items-center p-1 rounded hover:bg-gray-100 transition mr-1"
                  aria-label="KEY"
                >
                  <iconify-icon
                    icon="mdi:key-variant"
                    class="text-2xl text-yellow-400" >
                  </iconify-icon>
                </button>
                <!-- Edit -->
                <button
                  (click)="abrirModalEditar()"
                  class="inline-flex items-center p-1 rounded hover:bg-gray-100 transition "
                  aria-label="Editar"
                >
                  <iconify-icon
                    icon="mdi:pencil-outline"
                    class="text-2xl text-teal-600"
                  ></iconify-icon>
                </button>
                <!-- Delete -->
                <button
                  (click)="abrirModalEliminar(Cliente.id)"
                  class="inline-flex items-center p-1 rounded hover:bg-gray-100 transition"
                  aria-label="Eliminar"
                >
                  <iconify-icon
                    icon="mdi:delete-outline"
                    class="text-2xl text-red-600"
                    ></iconify-icon>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
 </div>


  <!-- Modal para agregar cliente -->
  <app-agregar-cliente-modal 
    *ngIf="mostrarModalAgregar"
    (cerrar)="cerrarModalAgregar()"
  ></app-agregar-cliente-modal>

  <!-- Modal para editar cliente -->
    <app-editar-cliente-modal 
    *ngIf="mostrarModalEditar"
    (cerrar)="cerrarModalEditar()"
  ></app-editar-cliente-modal>

  <!-- Modal para eliminar cliente -->
    <app-eliminar-cliente-modal 
    *ngIf="mostrarModalEliminar"
    [clienteId]="clienteIdAEliminar"
    (confirmar)="eliminarCliente(clienteIdAEliminar!)"
    (cancelar)="cerrarModalEliminar()"
  ></app-eliminar-cliente-modal>


  